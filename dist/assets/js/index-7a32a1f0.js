import{f as d,F as P}from"./index-33b8ab54.js";import{u as _}from"./use-id-00becbdc.js";import{ah as F,ax as f,ay as i,ai as L,V as N,r as B,az as T,d as o,aA as u,x as D,aB as O,al as K}from"./index-14c7bbbb.js";const[j,t,q]=F("search"),z=f({},d,{label:String,shape:i("square"),leftIcon:i("search"),clearable:L,actionText:String,background:String,showAction:Boolean});var M=N({name:j,props:z,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(n,{emit:a,slots:c,attrs:h}){const b=_(),l=B(),k=()=>{c.action||(a("update:modelValue",""),a("cancel"))},I=e=>{e.keyCode===13&&(O(e),a("search",n.modelValue))},r=()=>n.id||`${b}-input`,g=()=>{if(c.label||n.label)return o("label",{class:t("label"),for:r(),"data-allow-mismatch":"attribute"},[c.label?c.label():n.label])},p=()=>{if(n.showAction){const e=n.actionText||q("cancel");return o("div",{class:t("action"),role:"button",tabindex:0,onClick:k},[c.action?c.action():e])}},C=()=>{var e;return(e=l.value)==null?void 0:e.blur()},m=()=>{var e;return(e=l.value)==null?void 0:e.focus()},v=e=>a("blur",e),x=e=>a("focus",e),w=e=>a("clear",e),y=e=>a("clickInput",e),E=e=>a("clickLeftIcon",e),R=e=>a("clickRightIcon",e),S=Object.keys(d),V=()=>{const e=f({},h,u(n,S),{id:r()}),s=A=>a("update:modelValue",A);return o(P,D({ref:l,type:"search",class:t("field",{"with-message":e.errorMessage}),border:!1,onBlur:v,onFocus:x,onClear:w,onKeypress:I,onClickInput:y,onClickLeftIcon:E,onClickRightIcon:R,"onUpdate:modelValue":s},e),u(c,["left-icon","right-icon"]))};return T({focus:m,blur:C}),()=>{var e;return o("div",{class:t({"show-action":n.showAction}),style:{background:n.background}},[(e=c.left)==null?void 0:e.call(c),o("div",{class:t("content",n.shape)},[g(),V()]),p()])}}});const H=K(M);export{H as S};
