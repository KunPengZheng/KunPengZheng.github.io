import{aj as N,V as z,C as A,d as v,ak as W,al as y,am as q,an as E,_ as J,r as u,O as M,ao as O,ap as G,aq as H,P as K,ar as Q,as as P,o as X,c as Y,B as h,a9 as w,ag as _,w as Z,b as ee,D as U,a6 as te}from"./index-fdc685fa.js";import{a as d,d as ae,o as oe}from"./index-9726ae91.js";import{s as ne}from"./function-call-eb537992.js";import"./index-c36e6f55.js";import{I as se}from"./index-f838ac64.js";import{B as re}from"./index-4d6a1860.js";import"./Dialog-1e67ddf0.js";import"./use-placeholder-46e444d6.js";import"./use-route-773056d5.js";const[le,k]=N("progress"),ie={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:W,pivotColor:String,trackColor:String,strokeWidth:y,percentage:{type:y,default:0,validator:t=>+t>=0&&+t<=100}};var ce=z({name:le,props:ie,setup(t){const p=A(()=>t.inactive?void 0:t.color),f=()=>{const{textColor:s,pivotText:r,pivotColor:l,percentage:n}=t,i=r??`${n}%`;if(t.showPivot&&i){const m={color:s,left:`${+n}%`,transform:`translate(-${+n}%,-50%)`,background:l||p.value};return v("span",{style:m,class:k("pivot",{inactive:t.inactive})},[i])}};return()=>{const{trackColor:s,percentage:r,strokeWidth:l}=t,n={background:s,height:q(l)},i={width:`${r}%`,background:p.value};return v("div",{class:k(),style:n},[v("span",{class:k("portion",{inactive:t.inactive}),style:i},null),f()])}}});const ue=E(ce);const ve={class:"root"},pe={__name:"Splash",setup(t){let p=u(new URL(""+new URL("../webp/name-c823dde5.webp",import.meta.url).href,self.location).href),f=0,s=0,r=!1;const l=u("5s"),n=u(!1);let i=null,m;const a=u(0),o=u(""),g=u(!0);M(()=>{S()});function L(){const e=window.setInterval(function(){f++;let c=6-f;c<=0?(l.value="关闭",r=!0,window.clearInterval(e)):(n.value=!0,l.value=`${c}s`)},1e3)}function b(){window.clearInterval(m)}function V(){m=window.setInterval(function(){switch(s++,s){case 1:a.value=10,o.value=".";break;case 2:a.value=25,o.value="..";break;case 3:a.value=34,o.value="...";break;case 4:a.value=45,o.value=".";break;case 5:a.value=53,o.value="..";break;case 6:a.value=75,o.value="...";break;case 7:a.value=80,o.value=".";break;case 8:a.value=90,o.value="..";break}},300)}function S(){V(),d.uj().then(e=>{e===void 0?(s=0,b(),ne({title:"网络错误",message:"当前网络连接异常，请重新再试",confirmButtonText:"重试"}).then(()=>{S()})):(O(e),$())})}function $(){a.value=100,b(),g.value=!1,G()?F():x()}function x(){d.temLogin().then(e=>{e&&(H(e),B())})}function B(){d.bannersScreen().then(e=>{K(e==null?void 0:e.modImg)>0?(i=e,p=ae(e.modImg,new URL(""+new URL("../webp/name-c823dde5.webp",import.meta.url).href,self.location).href),L()):C(!1)})}function F(){d.refreshVip().then(e=>{e?(Q(e),B()):x()})}function C(e){e?r&&P():P()}return(e,c)=>{const R=se,T=re,j=ue;return X(),Y("div",ve,[v(R,{class:"image",src:h(p),fit:"cover",onClick:c[0]||(c[0]=D=>{var I;return h(oe)(((I=h(i))==null?void 0:I.url)??"")})},null,8,["src"]),w(v(T,{class:"btn",onClick:c[1]||(c[1]=D=>C(!0)),size:"large"},{default:Z(()=>[te(U(l.value),1)]),_:1},512),[[_,n.value]]),w(v(j,{percentage:a.value,"stroke-width":"10",class:"progress","show-pivot":!1,"track-color":"#0000000A",color:"linear-gradient(to right, #FFA75CFF, #ffd87bff)"},null,8,["percentage"]),[[_,g.value]]),w(ee("span",{class:"txt"},"正在为你选择最佳线路"+U(o.value),513),[[_,g.value]])])}}},Se=J(pe,[["__scopeId","data-v-1dbe070c"]]);export{Se as default};
