import{_ as N,r as m,H as P,Q as z,o as a,c as o,d as y,as as L,at as M,z as c,h as V,B as d,b as s,D as l,w as $,N as f,O as h,R as v,a6 as g,ab as A,F as b,y as D,Z as x,ad as I,au as q,av as E,aw as F}from"./index-14c7bbbb.js";import{N as S}from"./index-bcfafc8d.js";import{_ as U}from"./NavBar-f0d09094.js";import{a as k,b as j,o as H}from"./index-3f9a404d.js";import{i as O,a as Q}from"./icon_video_pay_ali-e9101293.js";import{B as Z}from"./index-0ebc36aa.js";import"./index-2843009f.js";import"./use-placeholder-a3217c09.js";import"./use-route-7e88bfe0.js";const G={class:"page"},J={class:"balance"},K={class:"balance_left"},W={class:"balance_left_num"},X={class:"payment_method"},Y={class:"payment_method_select"},ss=["onClick"],es={class:"num"},ts={class:"diamond"},as={class:"money"},os={key:0,class:"right_top"},ns={key:1,class:"bottom"},rs={class:"method_btn"},cs={key:0,class:"pay_app"},ls=["onClick"],is=["src"],_s={__name:"Recharge",setup(ds){const _=m(-1),n=P({}),p=m("");z(()=>{C()});const w=i=>{if(_.value<0){x({message:"请选择充值内容",position:"middle"});return}I({message:"加载中...",duration:0,overlay:!0});const t=n.value.productList[_.value];k.tradePay(i,t.productId).then(r=>{r&&(r instanceof q?x({message:`${r.errorMessage}${r.errorCode}`,position:"middle"}):(H(r.jumpUrl),E(),F()))})};function C(){k.getProduct().then(i=>{i&&(n.value=i,p.value=j(n.value.payUserList))})}return(i,t)=>{const r=U,B=S,T=Z;return a(),o("div",G,[y(r,L(M({title:"充值"})),null,16),c(v)(p.value)>0?(a(),V(B,{key:0,class:"notice_bar",text:p.value},null,8,["text"])):d("",!0),s("div",J,[s("div",K,[t[0]||(t[0]=s("span",{class:"balance_left_text"},"钻石余额",-1)),s("span",W,l(n.value.userDiamond),1)]),y(T,{type:"default",round:"",class:"balance_right_btn",onClick:c(A)},{default:$(()=>t[1]||(t[1]=[g("账单明细")])),_:1},8,["onClick"])]),s("div",X,[t[3]||(t[3]=s("div",{class:"payment_method_text"},"请选择支付方式",-1)),s("div",Y,[(a(!0),o(f,null,h(n.value.productList,(e,u)=>(a(),o("div",{class:b(["select_options",{background:_.value===u}]),onClick:D(R=>_.value=u,["stop"]),key:e.productId},[s("div",es,[s("div",ts,[g(l(e.amount)+" ",1),t[2]||(t[2]=s("span",null,"钻石",-1))]),s("div",as,"售价 "+l(e.price)+"元",1)]),c(v)(e.tag)>0?(a(),o("div",os,l(e.tag),1)):d("",!0),e.firstAmount>0?(a(),o("div",ns," 首充送"+l(e.firstAmount)+"钻石 ",1)):d("",!0)],10,ss))),128))])]),s("div",rs,[t[4]||(t[4]=s("div",{class:"method_btn_text"},"请选择支付方式",-1)),c(v)(n.value.payCfg)>0?(a(),o("div",cs,[(a(!0),o(f,null,h(n.value.payCfg,(e,u)=>(a(),o("div",{class:b({"zfb wx_box":e.payType===2,"wx wx_box":e.payType===1}),onClick:R=>w(e.payType)},[s("img",{src:e.payTyp===1?c(O):c(Q),alt:""},null,8,is),s("span",null,l(e.payTyp===1?"微信":"支付宝"),1)],10,ls))),256))])):d("",!0)])])}}},xs=N(_s,[["__scopeId","data-v-c8a9c500"]]);export{xs as default};
