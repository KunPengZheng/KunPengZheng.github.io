import{_ as N,r as m,x as P,O as M,o as a,c as o,d as y,at as z,au as L,B as l,h as D,F as d,b as e,D as c,w as V,J as f,M as h,P as v,a6 as g,ac as $,H as x,z as A,Z as b,ae as E,aD as F,aE as I,aF as q}from"./index-fdc685fa.js";import{N as S}from"./index-747b90e0.js";import{_ as U}from"./NavBar-68a5cd62.js";import{a as k,b as j,o as H}from"./index-9726ae91.js";import{i as J,a as O}from"./icon_video_pay_ali-e9101293.js";import{B as Z}from"./index-4d6a1860.js";import"./index-bed12e21.js";import"./use-placeholder-46e444d6.js";import"./use-route-773056d5.js";const G={class:"page"},K={class:"balance"},Q={class:"balance_left"},W={class:"balance_left_num"},X={class:"payment_method"},Y={class:"payment_method_select"},ee=["onClick"],se={class:"num"},te={class:"diamond"},ae={class:"money"},oe={key:0,class:"right_top"},ne={key:1,class:"bottom"},re={class:"method_btn"},le={key:0,class:"pay_app"},ce=["onClick"],ie=["src"],_e={__name:"Recharge",setup(de){const _=m(-1),n=P({}),p=m("");M(()=>{T()});const C=i=>{if(_.value<0){b({message:"请选择充值内容",position:"middle"});return}E({message:"加载中...",duration:0,overlay:!0});const t=n.value.productList[_.value];k.tradePay(i,t.productId).then(r=>{r&&(r instanceof F?b({message:`${r.errorMessage}${r.errorCode}`,position:"middle"}):(H(r.jumpUrl),I(),q()))})};function T(){k.getProduct().then(i=>{i&&(n.value=i,p.value=j(n.value.payUserList))})}return(i,t)=>{const r=U,w=S,B=Z;return a(),o("div",G,[y(r,z(L({title:"充值"})),null,16),l(v)(p.value)>0?(a(),D(w,{key:0,class:"notice_bar",text:p.value},null,8,["text"])):d("",!0),e("div",K,[e("div",Q,[t[0]||(t[0]=e("span",{class:"balance_left_text"},"钻石余额",-1)),e("span",W,c(n.value.userDiamond),1)]),y(B,{type:"default",round:"",class:"balance_right_btn",onClick:l($)},{default:V(()=>t[1]||(t[1]=[g("账单明细")])),_:1},8,["onClick"])]),e("div",X,[t[3]||(t[3]=e("div",{class:"payment_method_text"},"请选择支付方式",-1)),e("div",Y,[(a(!0),o(f,null,h(n.value.productList,(s,u)=>(a(),o("div",{class:x(["select_options",{background:_.value===u}]),onClick:A(R=>_.value=u,["stop"]),key:s.productId},[e("div",se,[e("div",te,[g(c(s.amount)+" ",1),t[2]||(t[2]=e("span",null,"钻石",-1))]),e("div",ae,"售价 "+c(s.price)+"元",1)]),l(v)(s.tag)>0?(a(),o("div",oe,c(s.tag),1)):d("",!0),s.firstAmount>0?(a(),o("div",ne," 首充送"+c(s.firstAmount)+"钻石 ",1)):d("",!0)],10,ee))),128))])]),e("div",re,[t[4]||(t[4]=e("div",{class:"method_btn_text"},"请选择支付方式",-1)),l(v)(n.value.payCfg)>0?(a(),o("div",le,[(a(!0),o(f,null,h(n.value.payCfg,(s,u)=>(a(),o("div",{key:s.payType,class:x({"zfb wx_box":s.payType===2,"wx wx_box":s.payType===1}),onClick:R=>C(s.payType)},[e("img",{src:s.payTyp===1?l(J):l(O),alt:""},null,8,ie),e("span",null,c(s.payTyp===1?"微信":"支付宝"),1)],10,ce))),128))])):d("",!0)])])}}},be=N(_e,[["__scopeId","data-v-ae7e9d03"]]);export{be as default};
