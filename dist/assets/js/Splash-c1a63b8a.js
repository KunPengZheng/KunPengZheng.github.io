import{ah as R,V as A,C as J,d as v,ai as M,aj as y,ak as W,al as q,_ as E,r as u,Q as O,am as Q,an as G,ao as H,R as K,ap as X,aq as P,o as Y,c as Z,z as _,J as h,M as k,w as ee,b as te,D as V,ar as $,a6 as ae}from"./index-14c7bbbb.js";import{a as m,d as oe,o as se}from"./index-3f9a404d.js";import{s as ne}from"./function-call-347517a5.js";import"./index-0f8e9565.js";import{I as re}from"./index-e96ae4f6.js";import{B as le}from"./index-0ebc36aa.js";import"./Dialog-8c773223.js";import"./use-placeholder-a3217c09.js";import"./use-route-7e88bfe0.js";const[ie,w]=R("progress"),ce={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:M,pivotColor:String,trackColor:String,strokeWidth:y,percentage:{type:y,default:0,validator:t=>+t>=0&&+t<=100}};var ue=A({name:ie,props:ce,setup(t){const p=J(()=>t.inactive?void 0:t.color),f=()=>{const{textColor:n,pivotText:r,pivotColor:l,percentage:s}=t,i=r??`${s}%`;if(t.showPivot&&i){const g={color:n,left:`${+s}%`,transform:`translate(-${+s}%,-50%)`,background:l||p.value};return v("span",{style:g,class:w("pivot",{inactive:t.inactive})},[i])}};return()=>{const{trackColor:n,percentage:r,strokeWidth:l}=t,s={background:n,height:W(l)},i={width:`${r}%`,background:p.value};return v("div",{class:w(),style:s},[v("span",{class:w("portion",{inactive:t.inactive}),style:i},null),f()])}}});const ve=q(ue);const pe={class:"root"},fe={__name:"Splash",setup(t){let p=u($()),f=0,n=0,r=!1;const l=u("5s"),s=u(!1);let i=null,g;const a=u(0),o=u(""),d=u(!0);O(()=>{b()});function F(){const e=window.setInterval(function(){f++;let c=6-f;c<=0?(l.value="关闭",r=!0,window.clearInterval(e)):(s.value=!0,l.value=`${c}s`)},1e3)}function S(){window.clearInterval(g)}function T(){g=window.setInterval(function(){switch(n++,n){case 1:a.value=10,o.value=".";break;case 2:a.value=25,o.value="..";break;case 3:a.value=34,o.value="...";break;case 4:a.value=45,o.value=".";break;case 5:a.value=53,o.value="..";break;case 6:a.value=75,o.value="...";break;case 7:a.value=80,o.value=".";break;case 8:a.value=90,o.value="..";break}},300)}function b(){T(),m.uj().then(e=>{e===void 0?(n=0,S(),ne({title:"网络错误",message:"当前网络连接异常，请重新再试",confirmButtonText:"重试"}).then(()=>{b()})):(Q(e),j())})}function j(){a.value=100,S(),d.value=!1,G()?D():x()}function x(){m.temLogin().then(e=>{e&&(H(e),C())})}function C(){m.bannersScreen().then(e=>{K(e==null?void 0:e.modImg)>0?(i=e,p=oe(e.modImg,$()),F()):I(!1)})}function D(){m.refreshVip().then(e=>{e?(X(e),C()):x()})}function I(e){e?r&&P():P()}return(e,c)=>{const N=re,U=le,z=ve;return Y(),Z("div",pe,[v(N,{class:"image",src:_(p),fit:"cover",onClick:c[0]||(c[0]=L=>{var B;return _(se)(((B=_(i))==null?void 0:B.url)??"")})},null,8,["src"]),h(v(U,{class:"btn",onClick:c[1]||(c[1]=L=>I(!0)),size:"large"},{default:ee(()=>[ae(V(l.value),1)]),_:1},512),[[k,s.value]]),h(v(z,{percentage:a.value,"stroke-width":"10",class:"progress","show-pivot":!1,"track-color":"#0000000A",color:"linear-gradient(to right, #FFA75CFF, #ffd87bff)"},null,8,["percentage"]),[[k,d.value]]),h(te("span",{class:"txt"},"正在为你选择最佳线路"+V(o.value),513),[[k,d.value]])])}}},xe=E(fe,[["__scopeId","data-v-08213730"]]);export{xe as default};
