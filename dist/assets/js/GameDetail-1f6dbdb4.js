import{_ as O,u as T,r as o,Q as L,H as M,o as c,c as x,d as _,as as S,at as G,w as l,b as s,D as m,R as w,aE as H,T as P,Z as V,N as $,O as z,h as I,x as A,a6 as F}from"./index-14c7bbbb.js";import{_ as Q}from"./DecryptImage-fa554ff2.js";import{_ as U}from"./NavBar-f0d09094.js";import{_ as Y}from"./ic_hot-f19a1b04.js";import{_ as Z}from"./icon_diamond-42aa206c.js";import{a as k,o as D}from"./index-3f9a404d.js";import{s as j}from"./function-call-347517a5.js";import{S as q,a as J}from"./index-e889b7e0.js";import{B as K}from"./index-0ebc36aa.js";import"./index-e96ae4f6.js";import"./index-2843009f.js";import"./use-placeholder-a3217c09.js";import"./Dialog-8c773223.js";import"./use-route-7e88bfe0.js";const W={class:"name_box"},X={class:"name_box_left"},ee={class:"name_box_right"},te={class:"box_right_top"},se={class:"mark"},oe={class:"box_right_bottom"},ae=["innerHTML"],ne={__name:"GameDetail",setup(re){const u=T();o();const n=o("");L(()=>{y()});const p=o(""),R=o(""),g=o(""),v=o(""),f=o(""),d=o(""),h=M([]);function y(){k.gameDetail(u.params.gid).then(e=>{e&&(E(e.cover_image),p.value=e.game_name,R.text=e.game_tags,g.value=e.play_amount,v.value=e.game_score,f.value=e.game_remark,d.value=e.price)})}function B(){if(w(n.value)>0){D(n.value);return}k.gameCharge(u.params.gid).then(e=>{const t=e[1];w(t)>0&&(n.value=t.apk,D(n)),e[0]&&(e[0].errorCode===H?j({message:"您的余额不足",theme:"round-button"}).then(()=>{P()}):V({message:e[0].errorMessage,position:"middle"}))})}function E(e){const t=e.substring(1,e.length-1).split(","),r=[];t.forEach(a=>{r.push(a.replace('"',""))});const i=[];r.forEach(a=>{i.push(a.replace("\\",""))}),h.value=i}return(e,t)=>{const r=U,i=Q,a=J,C=q,N=K;return c(),x("div",null,[_(r,S(G({title:"详情"})),null,16),_(C,{class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:l(()=>[(c(!0),x($,null,z(h.value,b=>(c(),I(a,null,{default:l(()=>[_(i,A({ref_for:!0},{url:b},{class:"banner_game_list_img"}),null,16)]),_:2},1024))),256))]),_:1}),s("div",W,[s("div",X,m(p.value),1),s("div",ee,[s("div",te,[t[1]||(t[1]=s("img",{class:"box_right_top_img",src:Y,alt:""},null,-1)),s("span",se,m(v.value),1)]),s("div",oe,m(g.value)+"万人浏览",1)])]),s("div",{class:"content",innerHTML:f.value},null,8,ae),s("div",null,[_(N,{type:"default",round:"",class:"mask_btn",onClick:t[0]||(t[0]=b=>B())},{icon:l(()=>t[2]||(t[2]=[s("img",{src:Z,class:"mask_icon"},null,-1)])),default:l(()=>[F(" 立即购买"+m(d.value)+"钻石 ",1)]),_:1})])])}}},we=O(ne,[["__scopeId","data-v-8b3ce7e6"]]);export{we as default};
