import{_ as O,u as L,r as o,O as M,x as S,o as u,c as x,d as _,at as T,au as P,w as l,b as s,D as m,P as w,aN as G,S as V,Z as $,J as z,M as H,h as I,y as A,a6 as F}from"./index-fdc685fa.js";import{_ as J}from"./DecryptImage-fa683f8f.js";import{_ as U}from"./NavBar-68a5cd62.js";import{_ as Y}from"./ic_hot-f19a1b04.js";import{_ as Z}from"./icon_diamond-42aa206c.js";import{a as k,o as y}from"./index-9726ae91.js";import{s as j}from"./function-call-eb537992.js";import{S as q,a as K}from"./index-a5f7b9b9.js";import{B as Q}from"./index-4d6a1860.js";import"./index-f838ac64.js";import"./index-bed12e21.js";import"./use-placeholder-46e444d6.js";import"./Dialog-1e67ddf0.js";import"./use-route-773056d5.js";const W={class:"name_box"},X={class:"name_box_left"},ee={class:"name_box_right"},te={class:"box_right_top"},se={class:"mark"},oe={class:"box_right_bottom"},ae=["innerHTML"],ne={__name:"GameDetail",setup(re){const p=L();o();const n=o("");M(()=>{B()});const g=o(""),D=o(""),v=o(""),f=o(""),d=o(""),h=o(""),b=S([]);function B(){k.gameDetail(p.params.gid).then(e=>{e&&(C(e.cover_image),g.value=e.game_name,D.text=e.game_tags,v.value=e.play_amount,f.value=e.game_score,d.value=e.game_remark,h.value=e.price)})}function R(){if(w(n.value)>0){y(n.value);return}k.gameCharge(p.params.gid).then(e=>{const t=e[1];w(t)>0&&(n.value=t.apk,y(n)),e[0]&&(e[0].errorCode===G?j({message:"您的余额不足",theme:"round-button"}).then(()=>{V()}):$({message:e[0].errorMessage,position:"middle"}))})}function C(e){const t=e.substring(1,e.length-1).split(","),r=[];t.forEach(a=>{r.push(a.replace('"',""))});const i=[];r.forEach(a=>{i.push(a.replace("\\",""))}),b.value=i}return(e,t)=>{const r=U,i=J,a=K,E=q,N=Q;return u(),x("div",null,[_(r,T(P({title:"详情"})),null,16),_(E,{class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:l(()=>[(u(!0),x(z,null,H(b.value,c=>(u(),I(a,{key:c},{default:l(()=>[_(i,A({ref_for:!0},{url:c},{class:"banner_game_list_img"}),null,16)]),_:2},1024))),128))]),_:1}),s("div",W,[s("div",X,m(g.value),1),s("div",ee,[s("div",te,[t[1]||(t[1]=s("img",{class:"box_right_top_img",src:Y,alt:""},null,-1)),s("span",se,m(f.value),1)]),s("div",oe,m(v.value)+"万人浏览",1)])]),s("div",{class:"content",innerHTML:d.value},null,8,ae),s("div",null,[_(N,{type:"default",round:"",class:"mask_btn",onClick:t[0]||(t[0]=c=>R())},{icon:l(()=>t[2]||(t[2]=[s("img",{src:Z,class:"mask_icon"},null,-1)])),default:l(()=>[F(" 立即购买"+m(h.value)+"钻石 ",1)]),_:1})])])}}},we=O(ne,[["__scopeId","data-v-b9882a36"]]);export{we as default};
