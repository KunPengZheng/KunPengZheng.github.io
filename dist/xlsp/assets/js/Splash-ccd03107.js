import{am as N,X as z,D as A,d as v,an as E,ao as y,ap as W,aq as q,_ as J,r as u,Q as M,O as d,ar as O,as as Q,at as X,R as G,au as H,av as K,aw as P,o as Y,c as Z,B as w,ab as h,aj as _,w as ee,b as te,E as U,C as ae,a8 as oe}from"./index-e280f67c.js";import{s as ne}from"./function-call-c6623d0a.js";import"./index-15039e90.js";import{I as se}from"./index-939bc1ad.js";import{B as re}from"./index-161b96c8.js";import"./Dialog-75ec36e2.js";import"./use-placeholder-d3746102.js";import"./use-route-8e528560.js";const[le,b]=N("progress"),ie={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:E,pivotColor:String,trackColor:String,strokeWidth:y,percentage:{type:y,default:0,validator:t=>+t>=0&&+t<=100}};var ce=z({name:le,props:ie,setup(t){const p=A(()=>t.inactive?void 0:t.color),f=()=>{const{textColor:s,pivotText:r,pivotColor:l,percentage:n}=t,i=r??`${n}%`;if(t.showPivot&&i){const m={color:s,left:`${+n}%`,transform:`translate(-${+n}%,-50%)`,background:l||p.value};return v("span",{style:m,class:b("pivot",{inactive:t.inactive})},[i])}};return()=>{const{trackColor:s,percentage:r,strokeWidth:l}=t,n={background:s,height:W(l)},i={width:`${r}%`,background:p.value};return v("div",{class:b(),style:n},[v("span",{class:b("portion",{inactive:t.inactive}),style:i},null),f()])}}});const ue=q(ce);const ve={class:"root"},pe={__name:"Splash",setup(t){let p=u(new URL(""+new URL("../webp/name-c823dde5.webp",import.meta.url).href,self.location).href),f=0,s=0,r=!1;const l=u("5s"),n=u(!1);let i=null,m;const a=u(0),o=u(""),g=u(!0);M(()=>{S()});function L(){const e=window.setInterval(function(){f++;let c=6-f;c<=0?(l.value="关闭",r=!0,window.clearInterval(e)):(n.value=!0,l.value=`${c}s`)},1e3)}function k(){window.clearInterval(m)}function R(){m=window.setInterval(function(){switch(s++,s){case 1:a.value=10,o.value=".";break;case 2:a.value=25,o.value="..";break;case 3:a.value=34,o.value="...";break;case 4:a.value=45,o.value=".";break;case 5:a.value=53,o.value="..";break;case 6:a.value=75,o.value="...";break;case 7:a.value=80,o.value=".";break;case 8:a.value=90,o.value="..";break}},300)}function S(){R(),d.uj().then(e=>{e===void 0?(s=0,k(),ne({title:"网络错误",message:"当前网络连接异常，请重新再试",confirmButtonText:"重试"}).then(()=>{S()})):(O(e),$())})}function $(){a.value=100,k(),g.value=!1,Q()?F():x()}function x(){d.temLogin().then(e=>{e&&(X(e),B())})}function B(){d.bannersScreen().then(e=>{G(e==null?void 0:e.modImg)>0?(i=e,p=H(e.modImg,new URL(""+new URL("../webp/name-c823dde5.webp",import.meta.url).href,self.location).href),L()):C(!1)})}function F(){d.refreshVip().then(e=>{e?(K(e),B()):x()})}function C(e){e?r&&P():P()}return(e,c)=>{const T=se,V=re,j=ue;return Y(),Z("div",ve,[v(T,{class:"image",src:w(p),fit:"cover",onClick:c[0]||(c[0]=D=>{var I;return w(ae)(((I=w(i))==null?void 0:I.url)??"")})},null,8,["src"]),h(v(V,{class:"btn",onClick:c[1]||(c[1]=D=>C(!0)),size:"large"},{default:ee(()=>[oe(U(l.value),1)]),_:1},512),[[_,n.value]]),h(v(j,{percentage:a.value,"stroke-width":"10",class:"progress","show-pivot":!1,"track-color":"#0000000A",color:"linear-gradient(to right, #FFA75CFF, #ffd87bff)"},null,8,["percentage"]),[[_,g.value]]),h(te("span",{class:"txt"},"正在为你选择最佳线路"+U(o.value),513),[[_,g.value]])])}}},ke=J(pe,[["__scopeId","data-v-1dbe070c"]]);export{ke as default};
