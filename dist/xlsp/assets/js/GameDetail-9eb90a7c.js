import{_ as O,u as T,r as o,Q as L,x as M,O as x,o as u,c as w,d as _,ax as S,ay as G,w as l,b as s,E as m,R as k,C as y,aT as P,W as V,a0 as $,M as z,N as H,h as I,y as A,a8 as F}from"./index-7cd15725.js";import{_ as Q}from"./DecryptImage-37fb4348.js";import{_ as U}from"./NavBar-bacdacf2.js";import{_ as W}from"./ic_hot-f19a1b04.js";import{_ as Y}from"./icon_diamond-42aa206c.js";import{s as j}from"./function-call-b84aaa3d.js";import{S as q,a as J}from"./index-c36f4566.js";import{B as K}from"./index-b56c1e9e.js";import"./index-c81e4327.js";import"./index-98fa3391.js";import"./use-placeholder-e29266a8.js";import"./Dialog-cfe4b03f.js";import"./use-route-cec45656.js";const X={class:"name_box"},Z={class:"name_box_left"},ee={class:"name_box_right"},te={class:"box_right_top"},se={class:"mark"},oe={class:"box_right_bottom"},ae=["innerHTML"],ne={__name:"GameDetail",setup(re){const p=T();o();const n=o("");L(()=>{R()});const g=o(""),D=o(""),v=o(""),d=o(""),f=o(""),h=o(""),b=M([]);function R(){x.gameDetail(p.params.gid).then(e=>{e&&(C(e.cover_image),g.value=e.game_name,D.text=e.game_tags,v.value=e.play_amount,d.value=e.game_score,f.value=e.game_remark,h.value=e.price)})}function B(){if(k(n.value)>0){y(n.value);return}x.gameCharge(p.params.gid).then(e=>{const t=e[1];k(t)>0&&(n.value=t.apk,y(n)),e[0]&&(e[0].errorCode===P?j({message:"您的余额不足",theme:"round-button"}).then(()=>{V()}):$({message:e[0].errorMessage,position:"middle"}))})}function C(e){const t=e.substring(1,e.length-1).split(","),r=[];t.forEach(a=>{r.push(a.replace('"',""))});const i=[];r.forEach(a=>{i.push(a.replace("\\",""))}),b.value=i}return(e,t)=>{const r=U,i=Q,a=J,E=q,N=K;return u(),w("div",null,[_(r,S(G({title:"详情"})),null,16),_(E,{class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:l(()=>[(u(!0),w(z,null,H(b.value,c=>(u(),I(a,{key:c},{default:l(()=>[_(i,A({ref_for:!0},{url:c},{class:"banner_game_list_img"}),null,16)]),_:2},1024))),128))]),_:1}),s("div",X,[s("div",Z,m(g.value),1),s("div",ee,[s("div",te,[t[1]||(t[1]=s("img",{class:"box_right_top_img",src:W,alt:""},null,-1)),s("span",se,m(d.value),1)]),s("div",oe,m(v.value)+"万人浏览",1)])]),s("div",{class:"content",innerHTML:f.value},null,8,ae),s("div",null,[_(N,{type:"default",round:"",class:"mask_btn",onClick:t[0]||(t[0]=c=>B())},{icon:l(()=>t[2]||(t[2]=[s("img",{src:Y,class:"mask_icon"},null,-1)])),default:l(()=>[F(" 立即购买"+m(h.value)+"钻石 ",1)]),_:1})])])}}},xe=O(ne,[["__scopeId","data-v-b9882a36"]]);export{xe as default};
